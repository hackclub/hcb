<!DOCTYPE html>
<html>
<head>
  <title>HCB Sub-organization Form - URL Parameter Prefilling Demo</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 40px; line-height: 1.6; }
    .form-group { margin-bottom: 20px; }
    label { display: block; font-weight: bold; margin-bottom: 5px; }
    input { padding: 8px 12px; border: 1px solid #ddd; border-radius: 4px; width: 300px; font-size: 14px; }
    .example { background: #f8f9fa; padding: 15px; border-radius: 6px; margin: 20px 0; }
    code { background: #f1f3f4; padding: 2px 6px; border-radius: 3px; font-family: monospace; }
    pre { background: #f8f9fa; padding: 15px; border-radius: 6px; overflow-x: auto; }
    .btn { background: #22863a; color: white; padding: 10px 16px; border: none; border-radius: 6px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>üèóÔ∏è HCB Sub-organization Creation Form</h1>
  <p>This demonstrates the URL parameter prefilling functionality implemented for HCB sub-organizations.</p>
  
  <div class="example">
    <h2>üìù Form with URL Parameter Prefilling</h2>
    <form>
      <div class="form-group">
        <label for="name">Project name:</label>
        <input type="text" id="name" name="name" placeholder="Organization's latest project" value="" />
      </div>
      
      <div class="form-group">
        <label for="email">Organizer email:</label>
        <input type="email" id="email" name="email" placeholder="Running this project yourself? Use your@email.com" value="" />
      </div>
      
      <div class="form-group">
        <label for="cosigner_email">Co-signer email:</label>
        <input type="email" id="cosigner_email" name="cosigner_email" placeholder="Include this if the organizer is under 18" />
      </div>
      
      <button type="submit" class="btn">Create sub-organization</button>
    </form>
  </div>

  <div class="example">
    <h2>üîó Example URLs that would prefill the form:</h2>
    <ul>
      <li><strong>Both fields:</strong><br><code>/events/my-org/sub_organizations?name=New%20Project&email=organizer@example.com</code></li>
      <li><strong>Name only:</strong><br><code>/events/my-org/sub_organizations?name=Hackathon%202024</code></li>
      <li><strong>Email only:</strong><br><code>/events/my-org/sub_organizations?email=john@hackclub.com</code></li>
    </ul>
  </div>

  <div class="example">
    <h2>‚ö° Implementation in Rails ERB</h2>
    <p>The changes made to <code>app/views/events/sub_organizations.html.erb</code>:</p>
    <pre><code>&lt;div class="field"&gt;
  &lt;%= form.label :name, "Project name", class: "bold" %&gt;
  &lt;%= form.text_field :name, 
      placeholder: "#{possessive(@event.name)} latest project", 
      value: params[:name] %&gt;
&lt;/div&gt;

&lt;div class="field"&gt;
  &lt;%= form.label :email, "Organizer email", class: "bold" %&gt;
  &lt;%= form.email_field :email, 
      placeholder: "Running this project yourself? Use #{current_user.email}", 
      value: params[:email] %&gt;
&lt;/div&gt;</code></pre>
  </div>

  <div class="example">
    <h2>üß™ Test the prefilling manually:</h2>
    <p>Click these buttons to simulate URL parameters:</p>
    <button onclick="prefillForm('Hack Club Event', 'organizer@hackclub.com')" class="btn">Prefill Both Fields</button>
    <button onclick="prefillForm('Community Hackathon', '')" class="btn">Prefill Name Only</button>
    <button onclick="prefillForm('', 'test@example.com')" class="btn">Prefill Email Only</button>
    <button onclick="clearForm()" class="btn">Clear Form</button>
  </div>

  <script>
    function prefillForm(name, email) {
      document.getElementById('name').value = name;
      document.getElementById('email').value = email;
    }
    
    function clearForm() {
      document.getElementById('name').value = '';
      document.getElementById('email').value = '';
    }
    
    // Simulate URL parameter parsing on page load
    window.onload = function() {
      const urlParams = new URLSearchParams(window.location.search);
      const nameParam = urlParams.get('name');
      const emailParam = urlParams.get('email');
      
      if (nameParam) {
        document.getElementById('name').value = nameParam;
      }
      if (emailParam) {
        document.getElementById('email').value = emailParam;
      }
    };
  </script>
</body>
</html>