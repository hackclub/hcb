<%= render partial: "features/preview", locals: {
      id: "home-page-redesign",
      classes: ["feature-home-page-redesign"],
      feature_flag: :event_home_page_redesign_2024_09_21,
      name: "Home Page Redesign",
      description: "A fresh new look for your event's home page!",
      event: @event
    } if Flipper.enabled?(:event_home_page_redesign_2024_09_21, @event) %>

<%= render partial: "features/preview", locals: {
      id: "card-logo",
      classes: ["feature-generic"],
      feature_flag: :card_logos_2024_08_27,
      name: "HCB Card Logo",
      description: "Add a custom logo to every HCB card printed for your organization.",
      event: @event
    } %>

<%= render partial: "features/preview", locals: {
      id: "transaction-tags",
      classes: ["feature-transaction-tags"],
      feature_flag: :transaction_tags_2022_07_29,
      name: "Transaction Tags",
      description: "Categorize and filter transactions using tags!",
      event: @event
    } %>

<%= render partial: "features/preview", locals: {
      id: "donation-tiers",
      classes: ["feature-generic"],
      feature_flag: :donation_tiers_2025_06_24,
      name: "Donation Tiers",
      description: "Offer preset monthly donation options with custom names, prices, and perks.",
      event: @event
    } %>

<% active_spending_control_count = @event.organizer_positions.map(&:active_spending_control).compact.count %>
<%= render partial: "features/preview", locals: {
      id: "spending-controls",
      classes: ["feature-spending-controls", "feature-generic"],
      feature_flag: :spending_controls_2024_06_03,
      name: "Spending Controls",
      description: content_tag(:span) do
        concat "Control your members' spending with preauthorized card limits!"
      end,
      event: @event,
      disable_warning: active_spending_control_count > 0 ? "⚠️ #{active_spending_control_count} users have spending controls in place ⚠️\n\nAre you sure you want to disable this feature?" : nil

    } %>

<details>
  <summary class="mb2">Past feature previews</summary>

  <%= render partial: "features/preview", locals: {
        id: "transaction-tags",
        classes: ["feature-transaction-tags"],
        fully_shipped: true,
        feature_flag: :transaction_tags_2022_07_29,
        name: "Transaction Tags",
        description: "Categorize and filter transactions using tags!",
        event: @event
      } %>
</details>
