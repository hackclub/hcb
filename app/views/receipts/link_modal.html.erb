<%= turbo_frame_tag "link_modal_#{@receiptable.id}" do %>
  <%= form_with url: link_receipts_path, method: :post, class: "relative", data: {
        controller: "receipt-select",
        turbo: @streams
      } do |form| %>
    <% if @receipts.size == 0 %>
      <%= blankslate "Receipt Bin is empty." %>
    <% else %>
      <%= render "receipts/link_form", receipts: @receipts, suggested_receipt_ids: @suggested_receipt_ids do %>
          <%= form.submit "Add to transaction", class: "btn bg-success", style: "transition: 0.2s all;", data: {
            "receipt-select-target" => "confirm"
          }, onclick: "$.modal.close()", disabled: true %>
      <% end %>

      <%= form.hidden_field :receiptable_id, value: @receiptable.id %>
      <%= form.hidden_field :receiptable_type, value: @receiptable.class %>
      <%= form.hidden_field :show_link, value: @show_link %>
      <%= (form.hidden_field :popover, value: @popover) if defined?(@popover) %>
      <%= form.hidden_field :show_receipt_button, value: @show_receipt_button %>
      <%= form.hidden_field :show_author_img, value: @show_author_img %>
    <% end %>
  <% end %>
<% end %>
